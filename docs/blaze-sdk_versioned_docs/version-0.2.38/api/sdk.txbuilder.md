<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@blaze-cardano/sdk](./sdk.md) &gt; [TxBuilder](./sdk.txbuilder.md)

## TxBuilder class

A builder class for constructing Cardano transactions with various components like inputs, outputs, and scripts.

**Signature:**

```typescript
declare class TxBuilder 
```

## Constructors

<table><thead><tr><th>

Constructor


</th><th>

Modifiers


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[(constructor)(params, tracing)](./sdk.txbuilder._constructor_.md)


</td><td>


</td><td>

Constructs a new instance of the TxBuilder class. Initializes a new transaction body with an empty set of inputs, outputs, and no fee.


</td></tr>
</tbody></table>

## Properties

<table><thead><tr><th>

Property


</th><th>

Modifiers


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[burnAddress](./sdk.txbuilder.burnaddress.md)


</td><td>

`readonly`


</td><td>

[Address](./sdk.core.address.md)


</td><td>

Returns the burn address.


</td></tr>
<tr><td>

[outputsCount](./sdk.txbuilder.outputscount.md)


</td><td>

`readonly`


</td><td>

number


</td><td>

Returns the number of transaction outputs in the current transaction body.


</td></tr>
<tr><td>

[params](./sdk.txbuilder.params.md)


</td><td>

`readonly`


</td><td>

[ProtocolParameters](./sdk.core.protocolparameters.md)


</td><td>


</td></tr>
</tbody></table>

## Methods

<table><thead><tr><th>

Method


</th><th>

Modifiers


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[addAdditionalSigners(amount)](./sdk.txbuilder.addadditionalsigners.md)


</td><td>


</td><td>

The additional signers field is used to add additional signing counts for fee calculation. These will be included in the signing phase at a later stage. This is needed due to native scripts signees being non-deterministic.


</td></tr>
<tr><td>

[addDelegation(delegator, poolId, redeemer)](./sdk.txbuilder.adddelegation.md)


</td><td>


</td><td>

Adds a certificate to delegate a staker to a pool


</td></tr>
<tr><td>

[addDeregisterStake(credential, redeemer)](./sdk.txbuilder.addderegisterstake.md)


</td><td>


</td><td>

Adds a certificate to deregister a stake account.


</td></tr>
<tr><td>

[addInput(utxo, redeemer, unhashDatum)](./sdk.txbuilder.addinput.md)


</td><td>


</td><td>

Adds an input to the transaction. This method is responsible for including a new input, which represents a reference to an unspent transaction output (UTxO) that will be consumed by the transaction. Optionally, a redeemer and an unhashed datum can be provided for script validation purposes.


</td></tr>
<tr><td>

[addMint(policy, assets, redeemer)](./sdk.txbuilder.addmint.md)


</td><td>


</td><td>

Adds minting information to the transaction. This includes specifying the policy under which assets are minted, the assets to be minted, and an optional redeemer for Plutus scripts.


</td></tr>
<tr><td>

[addOutput(output)](./sdk.txbuilder.addoutput.md)


</td><td>


</td><td>

Adds a transaction output to the current transaction body. This method also ensures that the minimum ada requirements are met for the output. After adding the output, it updates the transaction body's outputs. It also checks if the output value exceeds the maximum value size.


</td></tr>
<tr><td>

[addPreCompleteHook(hook)](./sdk.txbuilder.addprecompletehook.md)


</td><td>


</td><td>

Adds a pre-complete hook to the transaction builder. This hook will be executed before the transaction is finalized.

Pre-complete hooks are useful for performing last-minute modifications or validations on the transaction before it's completed. Multiple hooks can be added, and they will be executed in the order they were added.


</td></tr>
<tr><td>

[addReferenceInput(utxo)](./sdk.txbuilder.addreferenceinput.md)


</td><td>


</td><td>

Adds a reference input to the transaction. Reference inputs are used to refer to outputs from previous transactions without spending them, allowing scripts to read their data. This can be useful for various contract logic, such as checking the state of a datum without consuming the UTxO that holds it.


</td></tr>
<tr><td>

[addRegisterPool()](./sdk.txbuilder.addregisterpool.md)


</td><td>


</td><td>

Adds a certificate to register a pool.


</td></tr>
<tr><td>

[addRegisterStake(credential)](./sdk.txbuilder.addregisterstake.md)


</td><td>


</td><td>

Adds a certificate to register a staker.


</td></tr>
<tr><td>

[addRequiredSigner(signer)](./sdk.txbuilder.addrequiredsigner.md)


</td><td>


</td><td>

Adds a required signer to the transaction. This is necessary for transactions that must be explicitly signed by a particular key.


</td></tr>
<tr><td>

[addRetirePool()](./sdk.txbuilder.addretirepool.md)


</td><td>


</td><td>

Adds a certificate to retire a pool.


</td></tr>
<tr><td>

[addUnspentOutputs(utxos)](./sdk.txbuilder.addunspentoutputs.md)


</td><td>


</td><td>

Adds unspent transaction outputs (UTxOs) to the set of UTxOs available for this transaction. These UTxOs can then be used for balancing the transaction, ensuring that inputs and outputs are equal.


</td></tr>
<tr><td>

[addWithdrawal(address, amount, redeemer)](./sdk.txbuilder.addwithdrawal.md)


</td><td>


</td><td>

Adds a withdrawal to the transaction. This method allows for the withdrawal of funds from a staking reward account. Optionally, a redeemer can be provided for script validation purposes.


</td></tr>
<tr><td>

[buildFinalWitnessSet(signatures)](./sdk.txbuilder.buildfinalwitnessset.md)


</td><td>

`protected`


</td><td>

Builds a full witness set with the provided signatures

This includes collecting all necessary scripts (native, Plutus V1, V2, V3), vkey signatures, redeemers, and Plutus data required for script validation.

It organizes these components into a structured format that can be serialized and included in the transaction.


</td></tr>
<tr><td>

[buildPlaceholderWitnessSet()](./sdk.txbuilder.buildplaceholderwitnessset.md)


</td><td>

`protected`


</td><td>

Builds a placeholder transaction witness set required for the transaction.

This includes collecting all necessary scripts (native, Plutus V1, V2, V3), redeemers, and Plutus data required for script validation.

Includes placeholder signatures for the known required signers, so we estimate the transaction size accurately

It organizes these components into a structured format that can be serialized and included in the transaction.


</td></tr>
<tr><td>

[calculateFees()](./sdk.txbuilder.calculatefees.md)


</td><td>

`protected`


</td><td>

Calculates the transaction fees based on the transaction size and parameters. It updates the transaction body with the calculated fee.


</td></tr>
<tr><td>

[complete({ useCoinSelection })](./sdk.txbuilder.complete.md)


</td><td>


</td><td>

Completes the transaction by performing several key operations: - Verifies the presence of a change address. - Gathers inputs and performs coin selection if necessary. - Balances the change output. - Builds the transaction witness set. - Calculates the script data hash. - Estimates and sets the transaction fee. - Merges the fee value with the excess value and rebalances the change.


</td></tr>
<tr><td>

[delegate(poolId, redeemer)](./sdk.txbuilder.delegate.md)


</td><td>


</td><td>

This method delegates the selected reward address to a pool. It first checks if the reward address is set and if it has a stake component. If both conditions are met, it adds a delegation to the transaction.


</td></tr>
<tr><td>

[deployScript(script, address)](./sdk.txbuilder.deployscript.md)


</td><td>


</td><td>

Deploys a script by creating a new UTxO with the script as its reference.


</td></tr>
<tr><td>

[enableTracing(enabled)](./sdk.txbuilder.enabletracing.md)


</td><td>


</td><td>

Hook to allow an existing instance to turn on tracing.


</td></tr>
<tr><td>

[getScriptData(tw)](./sdk.txbuilder.getscriptdata.md)


</td><td>

`protected`


</td><td>

Generates a script data hash for the transaction if there are any datums or redeemers present. This hash is crucial for the validation of Plutus scripts in the transaction.


</td></tr>
<tr><td>

[lockAssets(address, value, datum, scriptReference)](./sdk.txbuilder.lockassets.md)


</td><td>


</td><td>

Locks a specified amount of assets to a script. The difference between 'pay' and 'lock' is that you pay to a public key/user, and you lock at a script. This method ensures that the address is valid and the assets are locked to the script.


</td></tr>
<tr><td>

[lockLovelace(address, lovelace, datum, scriptReference)](./sdk.txbuilder.locklovelace.md)


</td><td>


</td><td>

Locks a specified amount of lovelace to a script. The difference between 'pay' and 'lock' is that you pay to a public key/user, and you lock at a script. This method ensures that the address is valid and the lovelace is locked to the script.


</td></tr>
<tr><td>

[payAssets(address, value, datum)](./sdk.txbuilder.payassets.md)


</td><td>


</td><td>

Adds a payment in assets to the transaction output. This method ensures that the address is valid and the payment is added to the transaction output.


</td></tr>
<tr><td>

[payLovelace(address, lovelace, datum)](./sdk.txbuilder.paylovelace.md)


</td><td>


</td><td>

Adds a payment in lovelace to the transaction output. This method ensures that the address is valid and the payment is added to the transaction output.


</td></tr>
<tr><td>

[prepareCollateral({ useCoinSelection })](./sdk.txbuilder.preparecollateral.md)


</td><td>

`protected`


</td><td>

Prepares the collateral for the transaction by selecting suitable UTXOs. Throws an error if suitable collateral cannot be found or if some inputs cannot be resolved.<!-- -->{<!-- -->boolean<!-- -->}


</td></tr>
<tr><td>

[provideCollateral(utxos)](./sdk.txbuilder.providecollateral.md)


</td><td>


</td><td>

Adds unspent transaction outputs (UTxOs) to the set of collateral UTxOs available for this transaction. These UTxOs can then be used to provide collateral for the transaction, if necessary. If provided, they will b If there are specific, valid collateral UTxOs provided, Blaze will use them before using any other UTxO.


</td></tr>
<tr><td>

[provideDatum(datum)](./sdk.txbuilder.providedatum.md)


</td><td>


</td><td>

Adds a Plutus datum to the transaction. This datum is not directly associated with any particular output but may be used by scripts during transaction validation. This method is useful for including additional information that scripts may need to validate the transaction without requiring it to be attached to a specific output.


</td></tr>
<tr><td>

[provideScript(script)](./sdk.txbuilder.providescript.md)


</td><td>


</td><td>

Adds a script to the transaction's script scope. If the script is already provided via a reference script, it will not be explicitly used again. This method ensures that each script is only included once in the transaction, either directly or by reference, to optimize the transaction size and processing.


</td></tr>
<tr><td>

[setAuxiliaryData(auxiliaryData)](./sdk.txbuilder.setauxiliarydata.md)


</td><td>


</td><td>

Sets the auxiliary data for the transaction and updates the transaction's auxiliary data hash.


</td></tr>
<tr><td>

[setChangeAddress(address, override)](./sdk.txbuilder.setchangeaddress.md)


</td><td>


</td><td>

Sets the change address for the transaction. This address will receive any remaining funds not allocated to outputs or fees.


</td></tr>
<tr><td>

[setCollateralChangeAddress(address)](./sdk.txbuilder.setcollateralchangeaddress.md)


</td><td>


</td><td>

Sets the collateral change address for the transaction. This address will receive the collateral change if there is any.


</td></tr>
<tr><td>

[setDonation(donation)](./sdk.txbuilder.setdonation.md)


</td><td>


</td><td>

Sets the donation to the treasury in lovelace


</td></tr>
<tr><td>

[setFeePadding(pad)](./sdk.txbuilder.setfeepadding.md)


</td><td>


</td><td>

Sets an additional padding to add onto the transactions. Use this only in emergencies, and please open a ticket at https://github.com/butaneprotocol/blaze-cardano so we can correct the fee calculation!


</td></tr>
<tr><td>

[setMetadata(metadata)](./sdk.txbuilder.setmetadata.md)


</td><td>


</td><td>

Sets the transaction metadata and updates the transaction's auxiliary data hash.


</td></tr>
<tr><td>

[setMinimumFee(fee)](./sdk.txbuilder.setminimumfee.md)


</td><td>


</td><td>

Sets the minimum fee for the transaction. This fee will be used during the transaction building process.


</td></tr>
<tr><td>

[setNetworkId(networkId)](./sdk.txbuilder.setnetworkid.md)


</td><td>


</td><td>

Sets the network ID for the transaction builder. The network ID is used to determine which network the transaction is intended for.


</td></tr>
<tr><td>

[setRewardAddress(address)](./sdk.txbuilder.setrewardaddress.md)


</td><td>


</td><td>

Sets the reward address for the transaction. This address will be used for delegation purposes and also stake key component of the transaction.


</td></tr>
<tr><td>

[setValidFrom(validFrom)](./sdk.txbuilder.setvalidfrom.md)


</td><td>


</td><td>

Specifies the exact time when the transaction becomes valid.


</td></tr>
<tr><td>

[setValidUntil(validUntil)](./sdk.txbuilder.setvaliduntil.md)


</td><td>


</td><td>

Specifies the exact time when the transaction expires.


</td></tr>
<tr><td>

[toCbor()](./sdk.txbuilder.tocbor.md)


</td><td>


</td><td>

Prints the transaction cbor in its current state without trying to complete it


</td></tr>
<tr><td>

[useCoinSelector(selector)](./sdk.txbuilder.usecoinselector.md)


</td><td>


</td><td>

Sets a custom coin selector function for the transaction builder. This function will be used to select inputs during the transaction building process.


</td></tr>
<tr><td>

[useEvaluator(evaluator, override)](./sdk.txbuilder.useevaluator.md)


</td><td>


</td><td>

Sets the evaluator for the transaction builder. The evaluator is used to execute Plutus scripts during transaction building.


</td></tr>
</tbody></table>

